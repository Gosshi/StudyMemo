# JavaScript 基礎文法
参考図書
* https://developer.mozilla.org/ja/docs/Learn/Getting_started_with_the_web  
* https://jsprimer.net/


## 特徴
* 動的プログラミング言語
* ウェブサイトにインタラクティブ機能を追加可能
* 拡張子は.js
* ECMAScriptによって動作が決められている

<br>

## strict mode
```use strict```という文字列をファイルまたは関数の先頭に書く
* 明らかな問題を含んだコードに対しては早期的に例外を投げてくれる
* 古い構文や機能が制限される  
基本的に安全にコードを書けるよう、このモードを利用する

<br>

## コメントアウト
javaと同じ
```js
// 一行コメント

/**
 * 複数行コメント
 * /

```

<br>

## HelloWorldの例
https://developer.mozilla.org/ja/docs/Learn/Getting_started_with_the_web  
HTMLの</body>前に以下を追加
```html
<script src="scripts/main.js"></script>
```

main.jsを以下のように作成
```js
const myHeading = document.querySelector('h1');
myHeading.textContent = 'Hello world!';
```
1. htmlのh1タグの先頭を選択し、myHeading変数に保存
2. そのテキストの textContent プロパティ(見出しの内容を表す)の値変更

これで、htmlの表記が変更される

### tips
```html
<script> 要素を HTML ファイルの末尾付近に置いたのは、ブラウザが HTML をファイルに現れる順番で読み込むから
HTML ページの末尾付近に JavaScript を配置する
```
-------
## 変数
変数は```var```または、```let```というキーワードで宣言する  
ただし、```var```は非推奨
```js
let hoge; //変数宣言
let hogehoge = 'hogehoge'; //変数宣言と初期化
```

### tips
* JavaScriptは大文字と小文字を区別する
* 予約後が存在する

<br>


保持可能なデータ型
|  データ型 |  備考                |
| -------- | ----------------     | 
|  String  |  引用符で囲む必要あり  |
|  Number  |                      |
|  Boolean |   true/false         |
|  Array   |   データ型混合可能    |
|  Object  |     何でも格納可能    |

<br>

独特な演算子
|  演算子   |  備考                          |
| --------  | ----------------               | 
|  ===     |  値と型が互いに等しいかどうか    |
| !==      |     2 つの値が等しくないかどうか |

------

<br> 

## 条件文
Javaと一緒なので割愛

<br>

## 関数
Javaみたいにデータ型を書かなくて良さそう  
作成時には```function```をつける必要あり

```javascript
function multiply(num1,num2) {
  let result = num1 * num2;
  return result;
}

mulitply(10,20); // 呼び出し時
```

## イベント
イベントとはブラウザ内で起きていることを検出し、その応答としてコードを実行するコード構造  
例：クリックイベントとか
```js
document.querySelector('html').onclick = function() {
    alert('痛っ! つつくのはやめて!');
}

// or
document.querySelector('html').onclick = function() {};

// or
let myHTML = document.querySelector('html');
myHTML.onclick = function() {};
```

##### 感想
javaのselenideっぽい？


### 例：画像切り替え
```js
// imgタグの先頭を取ってくる
let myImage = document.querySelector('img');

myImage.onclick = function() {
    //src属性を取得→画像のパスが取得される
    let mySrc = myImage.getAttribute('src');
    //パスが等しければ画像のパスを変更
    if(mySrc === 'images/firefox-icon.png') {
      myImage.setAttribute ('src','images/firefox2.png');
    } else {
      // パスが等しくない、つまり画像切り替えしたあとなら戻す
      myImage.setAttribute ('src','images/firefox-icon.png');
    }
}
```

例題のコード
```js
let myButton = document.querySelector('button');
let myHeading = document.querySelector('h1');

function setUserName() {
  // prompt() はユーザにデータを入力するよう求め、
  // ユーザが OK を押した後に変数にそのデータを格納
  let myName = prompt('あなたの名前を入力してください。');
  
  if(!myName) {
    setUserName();
  } else {
    // ブラウザにデータを格納して後で受け取る
    localStorage.setItem('name', myName);
    myHeading.innerHTML = 'Mozilla is cool, ' + myName;
  }
}

// localStorageにはセッターとゲッターがあるんかな
if(!localStorage.getItem('name')) {
  setUserName();
} else {
  let storedName = localStorage.getItem('name');
  myHeading.innerHTML = 'Mozilla is cool, ' + storedName;
}

myButton.onclick = function() {
  setUserName();
}
```

